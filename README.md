# Backend Разработчик 001 (Java, Spring, JUnit)

## Сборка и запуск

Сервис собирается командой 

```mvn clean install```

после чего в папке `target` появляется файл `ertel-1.0-SNAPSHOT.jar`. Сервис запускается командой 

```java -jar ertel-1.0-SNAPSHOT.jar```

которая поднимает его по адресу `http://localhost:8080/`

После этого сервис готов к работе.

## Использование

### Добавление записей в базу

Чтобы добавить запись в базу, нужно отправить POST-запрос к адресу 

```http://localhost:8080/api/cakes/```
 
 Запрос должен содержать заголовок `Content-Type: application/json` и тело 

```
{
    "name":"{name}",
    "status":"{status}"
}
```

* `name` - строка с названием пирока;
* `status` - строка с состоянием пирога (допустимы два состояния - `FRESH` и `STALE`).

При успешном добавлении сервис вернёт код 200.

### Чтение записи из базы

Чтобы получить запись из базы, нужно отправить GET-запрос к адресу 

```http://localhost:8080/api/cakes/{id}```

* `id` - число, идентифицирующее запись. 

При наличии такой записи, сервис вернёт ответ, содержащий объект записи в формате JSON. При отсутствии записи сервис верёнт код 404.

### Постраничное чтение записей из базы

Чтобы получить сразу несколько записей из базы, нужно отправить GET-запрос к адресу 

```http://localhost:8080/api/cakes/?page={page}&limit={limit}&text={name}&statuses%5B%5D={statuses}```

* `page` - номер страницы с записями. Номера страниц начинаются с ноля;
* `limit` - количество записей на одной странице;
* `text` - точное наименование пирога;
* `statuses` - перечисление состояний пирогов через запятую. (допустимы два состояния - `FRESH` и `STALE`).

При успешном выполнении запроса сервис вернёт ответ с объектом CakeView в формате JSON, который будет содержать страницу со списком записей, а также поле `total`, в котором будет указано обшее количество удовлетворяющих запросу записей.

### Удаление записей из базы

Для удаление записей из базы нужно отправить DELETE-запрос к адресу 

```http://localhost:8080/api/cakes/{id}```

* `id` - число, идентифицирующее запись. 

При наличии такой записи она будет удалена и сервис вернёт код 200. При отсутствии записи сервис вернёт код 404.